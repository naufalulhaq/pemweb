<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
    <div class="row">
        <div class="col s12">
            <img class="col s4 responsive-img" style="width: 250px;" src="images/logo.png" />
            <div class="col s3 offset-s9  card-panel">
                <script> document.write(new Date().toLocaleDateString()); </script>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col s4 center-align">
            <div class="card-panel indigo lighten-2"></div>
            <p>Mobil 1</p>
            <div class="card-panel green lighten-2"></div>
            <p>Mobil 1</p>
            <a href="#" class="btn yellow black-text">Graph</a><br/><br/>
            <a href="#" class="btn blue black-text" class="row">Export</a><br/><br/>
            <a href="#" class="btn red black-text" class="row">Logout</a>
        </div>
        <div class="col s8 center-align">
            <table class="GeneratedTable">
              <thead>
                <tr class="head">
                    <th>No</th>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Release Year</th>
                    <th>Sale</th>
                </tr>
            </thead>
            <tbody class="books-table">
            <!-- diisi data dari js -->
            <script>
                // Handler Data from API
                var requestOptions = {
                  method: "GET",
                  redirect: "follow",
                };
        
                const tbodyDataEl = document.querySelector(".books-table");
                fetch("table.php", requestOptions)
                .then((response) => response.json())
                .then((result) => {
                  result.data.books.forEach((element, index) => {
                    const trEl = document.createElement("tr");
                    const td_no_El = document.createElement("td");
                    const td_title_El = document.createElement("td");
                    const td_author_El = document.createElement("td");
                    const td_year_El = document.createElement("td");
                    const td_sale_El = document.createElement("td");
                    td_no_El.innerText = index + 1;
                    td_title_El.innerText = element.Title;
                    td_author_El.innerText = element.Author;
                    td_year_El.innerText = element.ReleaseYear;
                    td_sale_El.innerText = element.Sale;
                    trEl.append(td_no_El, td_title_El, td_author_El, td_year_El, td_sale_El);
                    tbodyDataEl.append(trEl);
                  });
                  
                })
                .catch((error) => console.log("error", error));
                </script>
        </tbody>
            </table>
        </div>
    </div>
    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
  </body>
</html>